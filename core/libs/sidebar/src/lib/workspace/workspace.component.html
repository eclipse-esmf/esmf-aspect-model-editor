<!--
  ~ Copyright (c) 2024 Robert Bosch Manufacturing Solutions GmbH
  ~
  ~ See the AUTHORS file(s) distributed with this work for
  ~ additional information regarding authorship.
  ~
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at https://mozilla.org/MPL/2.0/.
  ~
  ~ SPDX-License-Identifier: MPL-2.0
  -->

<div class="header">
  <div class="title">
    <h2>{{ 'SIDEBAR.WORKSPACE.TITLE' | translate }}</h2>

    <button
      class="refresh"
      [class.loading]="loading"
      [class.disabled]="loading"
      [matTooltip]="loading ? ('SIDEBAR.WORKSPACE.REFRESHING' | translate) : ('SIDEBAR.WORKSPACE.REFRESH' | translate)"
      [disabled]="loading"
      (click)="sidebarService.workspace.refresh()"
      mat-mini-fab
    >
      <mat-icon>refresh</mat-icon>
    </button>
  </div>

  <button (click)="sidebarService.workspace.close()" mat-mini-fab>
    <mat-icon>close</mat-icon>
  </button>
</div>
@if (error) {
  <ame-workspace-error [error]="error"></ame-workspace-error>
} @else if (namespacesKeys.length === 0) {
  <ame-workspace-empty [loading]="loading"></ame-workspace-empty>
} @else {
  <ame-workspace-file-list class="list"></ame-workspace-file-list>
  @if (sidebarService.fileElements.isOpened$ | async) {
    <ame-workspace-file-elements class="column-two"></ame-workspace-file-elements>
  }
}
<ng-template #list>
  <ame-workspace-file-list class="list"></ame-workspace-file-list>
  @if (sidebarService.fileElements.isOpened$ | async) {
    <ame-workspace-file-elements class="column-two"></ame-workspace-file-elements>
  }
</ng-template>
