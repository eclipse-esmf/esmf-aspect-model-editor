<!--
  ~ Copyright (c) 2024 Robert Bosch Manufacturing Solutions GmbH
  ~
  ~ See the AUTHORS file(s) distributed with this work for
  ~ additional information regarding authorship.
  ~
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at https://mozilla.org/MPL/2.0/.
  ~
  ~ SPDX-License-Identifier: MPL-2.0
  -->

<div>
  <h3>{{ 'SETTINGS_DIALOG.SUB_NODE.AUTOMATED_WORKFLOW' | translate }}</h3>
  <form [formGroup]="form">
    <div class="settings-container">
      <div class="setting-item">
        <div class="setting-item__toggle">
          <mat-slide-toggle formControlName="autoFormatEnabled" data-cy="autoFormatToggle">
            {{ 'SETTINGS_DIALOG.CONFIGURATION.AUTO_FORMATTING' | translate }}
          </mat-slide-toggle>
          <mat-icon
            [matTooltipShowDelay]="0"
            [matTooltipHideDelay]="100"
            [matTooltip]="'SETTINGS_DIALOG.CONFIGURATION.AUTO_FORMATTING_TOOLTIP' | translate"
          >
            info
          </mat-icon>
        </div>
      </div>

      <div class="setting-item">
        <div class="setting-item__content">
          <mat-slide-toggle class="setting-item__toggle" formControlName="autoSaveEnabled" data-cy="autoSaveToggle">
            {{ 'SETTINGS_DIALOG.CONFIGURATION.AUTO_SAVE' | translate }}
          </mat-slide-toggle>
        </div>
        <div class="settings-item">
          <mat-form-field class="setting-item__value" appearance="fill">
            <mat-label for="autoSaveTime">{{ 'SETTINGS_DIALOG.CONFIGURATION.WAITING_PERIOD' | translate }}</mat-label>
            <input formControlName="saveTimerSeconds" matInput type="number" data-cy="autoSaveTime" />
            @if (form.get('saveTimerSeconds').hasError('min')) {
              <mat-error>The time must be at least 60 second</mat-error>
            }
          </mat-form-field>
        </div>
      </div>

      <div class="setting-item">
        <div class="setting-item__content">
          <div class="setting-item__toggle">
            <mat-slide-toggle formControlName="autoValidationEnabled" data-cy="autoValidateToggle">
              {{ 'SETTINGS_DIALOG.CONFIGURATION.AUTO_VALIDATION' | translate }}
            </mat-slide-toggle>
            <mat-icon
              [matTooltipShowDelay]="0"
              [matTooltipHideDelay]="100"
              [matTooltip]="'SETTINGS_DIALOG.CONFIGURATION.AUTO_VALIDATION_TOOLTIP' | translate"
            >
              info
            </mat-icon>
          </div>
          <mat-form-field class="setting-item__value" appearance="fill">
            <mat-label for="autoValidateTime">{{ 'SETTINGS_DIALOG.CONFIGURATION.WAITING_PERIOD' | translate }} </mat-label>
            <input formControlName="validationTimerSeconds" matInput type="number" data-cy="autoValidateTime" />
            @if (form.get('validationTimerSeconds').hasError('min')) {
              <mat-error>The time must be at least 60 second</mat-error>
            }
          </mat-form-field>
        </div>
      </div>
    </div>
  </form>
</div>
